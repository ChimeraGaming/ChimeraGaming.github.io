---
layout: null
permalink: /search.json
---

[
  {%- assign pages = site.pages | where_exp: "p", "p.search != false and p.title" -%}
  {%- assign posts = site.posts | where_exp: "p", "p.search != false" -%}
  {%- assign docs  = site.documents | where_exp: "d", "d.search != false" -%}
  {%- assign all   = pages | concat: posts | concat: docs -%}
  {%- for item in all -%}
    {
      "title": {{ item.title | jsonify }},
      "url": {{ item.url | relative_url | jsonify }},
      "content": {{ item.content | strip_html | normalize_whitespace | jsonify }}
    }{%- unless forloop.last -%},{%- endunless -%}
  {%- endfor -%}
]
